{"version":3,"sources":["webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue?4104","webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue?10dd","webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue?3fce","webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue?6c26","webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue","webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue?1393","webpack:///D:/projectFucai/fucai/components/wheelDraw/wheelDraw.vue?ce18"],"names":["data","transform","isRotating","wheelDraw","numberRotations","show","props","subText","default","type","String","init","Boolean","winIndex","Number","rotatingTime","wh","colors","Array","turns","prizeList","text","k","push","lightSpeed","mounted","$nextTick","drawInit","methods","_this","ctx","uni","createCanvasContext","ctx2","routing","time","routingTimer","setInterval","clearInterval","$emit","n","isRotate","e","length","clickButton"],"mappings":"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","file":"components/wheelDraw/wheelDraw.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./wheelDraw.vue?vue&type=template&id=048e7f37&scoped=true&\"\nvar renderjs\nimport script from \"./wheelDraw.vue?vue&type=script&lang=js&\"\nexport * from \"./wheelDraw.vue?vue&type=script&lang=js&\"\nimport style0 from \"./wheelDraw.vue?vue&type=style&index=0&id=048e7f37&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"048e7f37\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"projectFucai/fucai/components/wheelDraw/wheelDraw.vue\"\nexport default component.exports","export * from \"-!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wheelDraw.vue?vue&type=template&id=048e7f37&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wheelDraw.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wheelDraw.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport wheelDraw from \"./wheelDraw.js\"\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttransform: 'rotate(0deg)',//转动角度\n\t\t\tisRotating:false,//转动状态\n\t\t\twheelDraw: null, \n\t\t\tnumberRotations:0,//转动次数\n\t\t\tshow:false,\n\t\t}\n\t},\n\tprops: {\n\t\tsubText:{\n\t\t\tdefault:'',\n\t\t\ttype:String\n\t\t},\n\t\tinit:{\n\t\t\tdefault:false,\n\t\t\ttype:Boolean//一开始就初始化\n\t\t},\n\t\twinIndex:{//中奖的下标\n\t\t\tdefault:5,\n\t\t\ttype:Number\n\t\t},\n\t\trotatingTime:{//转动时间\n\t\t\tdefault:10,\n\t\t\ttype:Number\n\t\t},\n\t\twh: {//大转盘宽高\n\t\t\tdefault: 300,\n\t\t\ttype: Number,\n\t\t},\n\t\tcolors:{\n\t\t\tdefault:function(){\n\t\t\t\treturn ['#00b49b','#fff900','#ffbf00']\n\t\t\t},\n\t\t\ttype:Array\n\t\t},\n\t\tturns:{//最小圈数\n\t\t\tdefault:10,\n\t\t\ttype: Number,\n\t\t},\n\t\tprizeList:{\n\t\t\tdefault:function(){\n\t\t\t\tvar text = [];\n\t\t\t\tfor(var k=0;k<20;k++){\n\t\t\t\t\ttext.push(k)\n\t\t\t\t}\n\t\t\t\treturn text\n\t\t\t},\n\t\t\ttype:Array\n\t\t},\n\t\tlightSpeed:{\n\t\t\tdefault:500,\n\t\t\ttype:Number\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$nextTick(() => {\n\t\t\tif(this.init){\n\t\t\t\tthis.drawInit()\n\t\t\t}\n\t\t})\n\t},\n\tmethods: {\n\t\tdrawInit(){\n\t\t\tthis.show = true;\n\t\t\tvar _this = this\n\t\t\tthis.wheelDraw = new wheelDraw();\n\t\t\t//var ctx = uni.createCanvasContext('canvas-one');\n\t\t\tvar ctx = uni.createCanvasContext('canvas-one', this);\n\t\t\t//var ctx2 = uni.createCanvasContext('canvas-bg');\n\t\t\tvar ctx2 = uni.createCanvasContext('canvas-bg', this);\n\t\t\tthis.wheelDraw.init(this.colors, this.prizeList, 0, ctx, ctx2,this.subText,this.lightSpeed,this.wh)\n\t\t},\n\t\trouting(){\n\t\t\tif(this.isRotating) return //正在旋转\n\t\t\tthis.isRotating = true\n\t\t\tlet time = this.rotatingTime;\n\t\t\tlet routingTimer = setInterval(()=>{\n\t\t\t\t// console.log(time)\n\t\t\t\tif(time>0){\n\t\t\t\t\ttime--\n\t\t\t\t}else{\n\t\t\t\t\tthis.isRotating = false\n\t\t\t\t\tthis.numberRotations++\n\t\t\t\t\t//滚动结束的回调\n\t\t\t\t\tclearInterval(routingTimer)\n\t\t\t\t\tthis.$emit('routingFinish')\n\t\t\t\t}\n\t\t\t\t// console.log(this.rotatingTime)\n\t\t\t},1000)\n\t\t\tlet n = this.wheelDraw.isRotate //传入指定的旋转角度，内部指定获奖结果。在指定角度上加上旋转基数模拟转盘随机旋转。\n\t\t\t// 随机获奖结果\n\t\t\t/*    旋转度数 = 上次度数+ 最小圈数 * 360 + 当前数字 * 60 +随机角度  = 最终旋转度数     */\n\t\t\t //取一个随机的旋转角度，使获奖结果随机化   30-20  10  - 已经转动的角度\n\t\t\tlet e = this.numberRotations===0?0:this.winIndex\n\t\t\tn = n + this.turns * 360 + ((this.prizeList.length-this.winIndex)+e)/this.prizeList.length*360 // //1440为旋转基数，最低要旋转1440度，即4圈。rand-(rand%60) 这个是让指针永远停在扇形中心的算法。n + 是为了重复点击的时候有足够的旋转角度。\n\t\t\tthis.wheelDraw.isRotate = n\n\t\t\tif (this.wheelDraw.isRotate) {\n\t\t\t\tthis.transform = 'rotate(' + this.wheelDraw.isRotate + 'deg)'\n\t\t\t}\n\t\t},\n\t\tclickButton() {\n\t\t\tthis.$emit('routingBefore')\n\t\t}\n\t},\n}\n","import mod from \"-!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wheelDraw.vue?vue&type=style&index=0&id=048e7f37&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./wheelDraw.vue?vue&type=style&index=0&id=048e7f37&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596959534170\n      var cssReload = require(\"D:/common software/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}