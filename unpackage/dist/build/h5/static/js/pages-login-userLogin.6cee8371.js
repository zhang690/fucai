(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-userLogin"],{"13eb":function(t,e,i){"use strict";var n=i("95de"),a=i.n(n);a.a},"3a67":function(t,e,i){"use strict";(function(t){var n=i("4ea4");i("99af"),i("c740"),i("b64b"),i("d3b7"),i("acd8"),i("ac1f"),i("25f0"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,o=n(i("7f30")),c=n(i("aa1a")),s=i("dd01"),u={data:function(){return{realname:"",phone:"",verification:"",invitation:"",isRegister:!1,userInfo:{},city:"",active:!1,dataTime:"获取验证码",isFormal:2,clicked:!1,vCode:"",vPhone:""}},onLoad:function(){a=this,c.default.request({path:"login/getcode",method:"GET",data:encodeURIComponent(location.href.split("#")[0]),success:function(t){var e=t.data;o.default.initJssdk(e)},fail:function(e){t("log","bbbb",e," at pages/login/userLogin.vue:137")}})},methods:{stypeQuest:function(){c.default.request({method:"GET",path:"login/getversion",success:function(t){a.isFormal=t.data.Version}})},handleFanhui:function(){a.isRegister=!1,a.active=!1},invitationChang:function(){c.default.request({path:"login/panduan",method:"GET",data:parseFloat(a.invitation),success:function(t){200===t.code?c.default.showToast("邀请码正确"):(c.default.showToast("邀请码错误"),a.invitation="")}})},handleRegiter:function(){var e=["15084968801","张宾","月半","月半","朱林军℡¹⁸⁸⁹⁰³⁹⁵⁵⁰⁰","小文君",".","15073163280","15868879789","18890395500","15974242945","18528020801"],i=a.phone.toString(),n=e.findIndex((function(t){return i==t}));if(!c.default.checkPhone(a.phone))return c.default.showToast("请输入正确的手机号码");if(-1==n&&c.default.request({path:"login/getcode",method:"GET",data:encodeURIComponent(location.href.split("#")[0]),success:function(t){var e=t.data;function i(t){var e=t.latitude,i=t.longitude;c.default.request({path:"Order/getaddress",data:{latitude:e,longitude:i},success:function(t){var e=t.data.openinfo.result.address_component.city;"湘潭市"!=e&&uni.showModal({title:"提示",content:"您不在服务区范围内",showCancel:!1,success:function(t){if(t.confirm)return s.closeWindow(),!1}})}})}o.default.getlocation(e,i)},fail:function(e){t("log","bbbb",e," at pages/login/userLogin.vue:231")}}),a.phone!=a.vPhone||a.verification!=a.vCode)return c.default.showToast("您输入的信息不正确");var u=uni.getStorageSync("userinfo"),r=u.ID;if(r)return c.default.showModal("提示","您的微信已经注册过账号，不能再次注册");if(a.realname&&a.phone==a.vPhone&&a.verification==a.vCode){var l=uni.getStorageSync("userforlogin").openId,d=uni.getStorageSync("userforlogin")||"";a.userLogin(d.nickName,l,a.phone,a.realname,d.avatarUrl,a.invitation,d.gender)}else c.default.showToast("未授权")},userLogin:function(e,i,n,a,o,s,u){var r={nickName:e,openId:i,phone:n,realname:a,avatarUrl:o,invite:s,gender:u};t("log","dataTest",r," at pages/login/userLogin.vue:290"),c.default.request({path:"login/loginbyopenid",method:"GET",data:{nickName:e,openId:i,phone:n,realname:a,avatarUrl:o,invite:s,gender:u},success:function(e){uni.showToast({title:"注册成功！您已成功领取体验卷",duration:1500,mask:!0}),t("log","h5_注册成功",e," at pages/login/userLogin.vue:309"),uni.setStorageSync("userinfo",e.data),c.default.setstate(e.data),uni.switchTab({url:"../index/index"})}})},getAdress:function(){uni.getLocation({type:"gcj02",success:function(t){var e=t.latitude,i=t.longitude;uni.setStorageSync("jingwei",{latitude:e,longitude:i}),wx.request({url:"https://apis.map.qq.com/ws/geocoder/v1/?location=".concat(e,",").concat(i,"&key=5XTBZ-SXL6R-7OYWX-WTOCF-M7BUK-TSFBQ"),data:{},header:{"content-type":"application/json"},method:"GET",dataType:"json",responseType:"text",success:function(t){a.city=t.data.result.address_component.city}})},fail:function(e){t("log",e," at pages/login/userLogin.vue:344")}})},handleUser:function(){a.isRegister=!0,a.active=!0},handleJump:function(t){uni.navigateTo({url:t})},handleGetUserInfo:function(){var e=["15084968801","15974242945","18932181335","18592701479","15073163280","15868879789","18890395500"],i=a.phone.toString();t("log","testPhone",i," at pages/login/userLogin.vue:367");var n=e.findIndex((function(t){return i==t}));if(-1==n&&c.default.request({path:"login/getcode",method:"GET",data:encodeURIComponent(location.href.split("#")[0]),success:function(t){var e=t.data;function i(t){var e=t.latitude,i=t.longitude;c.default.request({path:"Order/getaddress",data:{latitude:e,longitude:i},success:function(t){var e=t.data.openinfo.result.address_component.city;"湘潭市"!=e&&uni.showModal({title:"提示",content:"您不在服务区范围内",showCancel:!1,success:function(t){if(t.confirm)return s.closeWindow(),!1}})}})}o.default.getlocation(e,i)},fail:function(e){t("log","bbbb",e," at pages/login/userLogin.vue:413")}}),!c.default.checkPhone(a.phone))return uni.showToast({icon:"none",title:"请输入正确的手机号码",duration:1500}),!1;-1!=n||a.phone==a.vPhone&&a.verification==a.vCode?c.default.request({path:"login/selectphone",method:"GET",data:{mobile:a.phone,code:a.verification},success:function(t){0!==Object.keys(t.data).length?(uni.setStorageSync("userinfo",t.data),c.default.setstate(t.data),uni.switchTab({url:"../index/index"})):uni.showToast({icon:"none",title:"该用户不存在",duration:1500})}}):uni.showToast({icon:"none",title:"请输入正确信息",duration:1500})},handleCode:function(){c.default.checkPhone(a.phone)?a.clicked||c.default.request({path:"login/getsms",method:"GET",data:{phone:a.phone,sort:a.isRegister?0:1},success:function(e){uni.showToast({title:"验证码获取成功"}),t("log","短信验证码",e," at pages/login/userLogin.vue:501"),a.vCode=e.data.code,a.vPhone=e.data.mobile,a.clicked=!0;var i=60,n=setInterval((function(){if(i--,a.dataTime=i+"s 重新发送",0==i)return a.clicked=!1,a.dataTime="获取验证码",void clearInterval(n)}),1e3)},fail:function(t){uni.showToast({title:"验证码发送失败，请稍后再试"}),a.dataTime="重新获取验证码"}}):uni.showToast({title:"您输入的电话号码格式不正确",mask:!0,duration:1500})}}};e.default=u}).call(this,i("0de9")["log"])},7365:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"user-login"},[n("v-uni-view",{staticClass:"user_all"},[n("v-uni-view",{staticClass:"user_logo"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/logo.png",mode:"aspectFit"}})],1),n("v-uni-view",{staticClass:"user_info"},[t.isRegister?n("v-uni-view",{staticClass:"input-wrap"},[n("v-uni-view",{staticClass:"user-input"},[n("v-uni-view",{staticClass:"input_put"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/user.png",mode:"widthFix"}})],1),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入真实姓名","placeholder-style":"color:#fff"},model:{value:t.realname,callback:function(e){t.realname=e},expression:"realname"}})],1),n("v-uni-view",{staticClass:"user-input"},[n("v-uni-view",{staticClass:"input_put first_icon"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/tel.png",mode:"widthFix"}})],1),n("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号","placeholder-style":"color:#fff"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"user-input"},[n("v-uni-view",{staticClass:"input_put"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/yanzhengma.png",mode:"widthFix"}})],1),n("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码","placeholder-style":"color:#fff"},model:{value:t.verification,callback:function(e){t.verification=e},expression:"verification"}}),n("v-uni-view",{staticClass:"huoqu",class:[{huoquclick:t.clicked}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCode.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t.dataTime))])],1)],1),2==t.isFormal?n("v-uni-view",{staticClass:"user-input"},[n("v-uni-view",{staticClass:"input_put"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/yaoqingma.png",mode:"widthFix"}})],1),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入邀请码",maxlength:"6","placeholder-style":"color:#fff"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.invitationChang.apply(void 0,arguments)}},model:{value:t.invitation,callback:function(e){t.invitation=e},expression:"invitation"}})],1):t._e(),n("v-uni-view",{staticClass:"user-store-btn"},[n("v-uni-view",{staticClass:"user_title"},[n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleFanhui.apply(void 0,arguments)}}},[t._v("返回登录")])],1)],1)],1):n("v-uni-view",{staticClass:"input-wrap"},[n("v-uni-view",{staticClass:"user-input"},[n("v-uni-view",{staticClass:"input_put first_icon"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/tel.png",mode:"widthFix"}})],1),n("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"请输入手机号","placeholder-style":"color:#fff"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),n("v-uni-view",{staticClass:"user-input"},[n("v-uni-view",{staticClass:"input_put"},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/yanzhengma.png",mode:"widthFix"}})],1),n("v-uni-input",{attrs:{type:"number",placeholder:"请输入验证码","placeholder-style":"color:#fff"},model:{value:t.verification,callback:function(e){t.verification=e},expression:"verification"}}),n("v-uni-view",{staticClass:"huoqu",class:[{huoquclick:t.clicked}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCode.apply(void 0,arguments)}}},[n("v-uni-text",[t._v(t._s(t.dataTime))])],1)],1),n("v-uni-view",{staticClass:"user-store-btn"},[n("v-uni-view",{staticClass:"user_title"},[n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleUser.apply(void 0,arguments)}}},[t._v("注册")])],1)],1)],1)],1)],1),n("v-uni-view",{staticClass:"user_bg"},[n("v-uni-image",{attrs:{src:i("9cb9").replace(/^\./,""),mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"user_btn",class:{user_logo:t.active}},[0==t.isRegister?n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGetUserInfo.apply(void 0,arguments)}}},[t._v("登录")]):n("v-uni-button",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleRegiter.apply(void 0,arguments)}}},[t._v("注册")])],1),2==t.isFormal?n("v-uni-view",[n("v-uni-view",{staticClass:"handle",class:{handle_logo:t.active}},[n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleJump("./merchantLogin")}}},[t._v("站长登录")]),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleJump("./riderLogin")}}},[t._v("骑手登录")]),n("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleJump("./intimidateLogin")}}},[t._v("业务员登录")])],1)],1):t._e(),n("v-uni-view",{staticClass:"btn_bg",class:{bgTop:t.active}},[n("v-uni-image",{attrs:{src:"https://fucai.yiruit.com/UpFiles/tupian/title.png",mode:"aspectFit"}})],1)],1)},o=[]},"95de":function(t,e,i){var n=i("ba3c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("003ce9a8",n,!0,{sourceMap:!1,shadowMode:!1})},"9cb9":function(t,e,i){t.exports=i.p+"static/img/bg.7a8def9a.png"},a95c:function(t,e,i){"use strict";i.r(e);var n=i("3a67"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},ba3c:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.user-login[data-v-9dc8cfac]{height:100vh;overflow:hidden;background-color:#fff}.user-login .user_bg[data-v-9dc8cfac]{margin-bottom:%?40?%}.user-login .user_all[data-v-9dc8cfac]{background-color:#ff3c35}.user_all .user_logo[data-v-9dc8cfac]{padding-top:%?100?%}.user_all .user_logo uni-image[data-v-9dc8cfac]{width:%?200?%;height:%?200?%;display:block;margin:auto}.user_all .user_info[data-v-9dc8cfac]{width:80%;margin-top:%?60?%;padding:0 10%}.user_btn[data-v-9dc8cfac]{width:100%;margin-top:%?-20?%}.user_btn uni-button[data-v-9dc8cfac]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:80%;height:%?80?%;line-height:%?80?%;background-color:#ff3c35;border-radius:%?20?%;color:#fff;font-size:%?28?%}.handle[data-v-9dc8cfac]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around;width:100%;margin-top:%?110?%}.handle uni-text[data-v-9dc8cfac]{color:#999}.handle_logo[data-v-9dc8cfac]{margin-top:%?70?%}.btn_bg[data-v-9dc8cfac]{width:100%;margin-top:%?190?%;text-align:center}.btn_bg uni-image[data-v-9dc8cfac]{height:%?80?%;margin:auto}.bgTop[data-v-9dc8cfac]{margin-top:%?50?%}.user_info .input-wrap[data-v-9dc8cfac]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.user_info .input-wrap .user-input[data-v-9dc8cfac]{width:100%;height:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;border-bottom:1px solid #eee;margin-bottom:%?40?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.user_info .input-wrap .user-input .input_put[data-v-9dc8cfac]{width:%?50?%;height:%?60?%;margin-right:%?10?%;padding-top:%?10?%}.user_info .input-wrap .user-input .input_put uni-image[data-v-9dc8cfac]{display:block;width:80%}.user_info .input-wrap .user-input .huoqu[data-v-9dc8cfac]{height:%?60?%;line-height:%?60?%;text-align:center;border-radius:%?10?%}.user_info .input-wrap .user-input .huoqu uni-text[data-v-9dc8cfac]{font-size:12px;color:#fff}.user_info .input-wrap .user-input .huoquclick uni-text[data-v-9dc8cfac]{font-size:12px;color:#ccc}.user_info .input-wrap .user-input .first_icon uni-image[data-v-9dc8cfac]{width:70%}.user_info .input-wrap .user-input uni-input[data-v-9dc8cfac]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?64?%;background:none;color:#fff;display:block;width:100%;height:100%}.user_info .input-wrap .user-btn[data-v-9dc8cfac]{width:100%;text-align:right;margin-top:%?-24?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.user_info .input-wrap .user-btn uni-text[data-v-9dc8cfac]{color:#fff;font-size:14px}.user_info .input-wrap .user-store-btn[data-v-9dc8cfac]{width:100%}.user_info .input-wrap .user-store-btn .user_title[data-v-9dc8cfac]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.user_info .input-wrap .user-store-btn uni-text[data-v-9dc8cfac]{color:#fff;font-size:14px}',""]),t.exports=e},cc58:function(t,e,i){"use strict";i.r(e);var n=i("7365"),a=i("a95c");for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("13eb");var c,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"9dc8cfac",null,!1,n["a"],c);e["default"]=u.exports}}]);